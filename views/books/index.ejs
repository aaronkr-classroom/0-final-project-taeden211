<!-- views/books/index.ejs -->

<main class="">
  <div class="container col-xl-10 col-xxl-8 px-4 py-5">
    <div class="pt-5 pb-5">
      <h1>Books</h1>
      <p>Here are all our current book offerings.</p>

      <table class="table">
        <thead>
          <tr>
            <th>Book Name</th>
            <th>Author</th>
            <th>Publisher</th>
            <th>Location</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <% books.forEach(book => { %>
          <tr>
            <td>
              <a href="<%= `/books/${book._id}` %>">
                <%= book.bookname %>
              </a>
            </td>
            <td><%= book.author %></td>
            <td><%= book.publisher %></td>
            <td><%= book.location %></td>
            <td>
              <a href="<%=`/books/${book._id}/edit`%>"> Edit </a>
            </td>
            <td>
              <a
                href="<%= `/books/${book._id}/delete?_method=DELETE` %>"
                onclick="return confirm('Are you sure you want to delete this record?')"
              >Delete</a>
            </td>
          </tr>
          <% }); %>
        </tbody>
      </table>

      <div class="mt-5 text-center">
        <a href="/books/new" class="btn btn-primary">Add New Book</a>
        <a
          href="/"
          class="btn ut-red disabled"
          role="button"
          aria-disabled="true"
        >Delete All Books</a>
      </div>
    </div>
  </div>
</main>